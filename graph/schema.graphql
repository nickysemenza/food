type Ingredient {
  uuid: String!
  name: String!
  recipes: [Recipe!]
}

type SectionInstruction {
  uuid: String!
  instruction: String!
}

union IngredientInfo = Ingredient | Recipe

type SectionIngredient {
  uuid: String!
  info: IngredientInfo!
  grams: Float!
  amount: Float!
  unit: String!
  adjective: String!
  optional: Boolean!
}

type Section {
  uuid: String!
  minutes: Int!
  instructions: [SectionInstruction!]!
  ingredients: [SectionIngredient!]!
}

type Recipe {
  uuid: String!
  name: String!
  total_minutes: Int!
  unit: String!
  sections: [Section!]!
}

input RecipeInput {
  uuid: String!
  name: String!
  total_minutes: Int
  unit: String
  sections: [SectionInput!]
}

input SectionInstructionInput {
  instruction: String!
}

input SectionIngredientInput {
  name: String!
  grams: Float!
  amount: Float
  unit: String
  adjective: String
  optional: Boolean
}

input SectionInput {
  minutes: Int!
  instructions: [SectionInstructionInput!]!
  ingredients: [SectionIngredientInput!]!
}

input NewRecipe {
  name: String!
}

type Nutrient {
  id: Int!
  name: String!
  unit_name: String!
}

type FoodNutrientDerivation {
  code: String!
  description: String!
}

type FoodNutrient {
  nutrient: Nutrient!
  amount: Float!
  data_points: Int!
}

type FoodCategory {
  code: String!
  description: String!
}

type Food {
  fdc_id: Int!
  description: String!
  data_type: String!
  category: FoodCategory
  nutrients: [FoodNutrient!]!
}

type Mutation {
  createRecipe(recipe: NewRecipe): Recipe!
  updateRecipe(recipe: RecipeInput): Recipe!
}

enum FoodDataType {
  foundation_food
  sample_food
  market_acquisition
  survey_fndds_food
  sub_sample_food
  agricultural_acquisition
  sr_legacy_food
  branded_food
}

type Query {
  recipes: [Recipe!]!
  recipe(uuid: String!): Recipe
  ingredients: [Ingredient!]!
  food(fdc_id: Int!): Food
  foods(
    search_query: String!
    data_type: FoodDataType
    food_category_id: Int
  ): [Food!]
}
